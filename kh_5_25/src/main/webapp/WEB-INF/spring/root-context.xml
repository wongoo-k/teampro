<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<!-- Root Context: defines shared resources visible to all other web components -->
		<!-- db.properties파일을 관리하기 위한 객체를 등록함 -->
	<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="location" 
		value="classpath:properties/db.properties" />
	</bean>	
		<!-- [1] DataSource빈 선언 -->
<bean id = "dataSource" 
	class = "org.springframework.jdbc.datasource.DriverManagerDataSource"> 
	<property name="driverClassName" value="${driver}"/>
	<property name="url" value="${url}"/>
	<property name="username" value="${username}"/>
	<property name="password" value="${password}"/>
</bean>
<!-- [2] SqlSessionFactoryBean 빈 선언 -->
<bean id = "sqlSessionFactory" 
	class = "org.mybatis.spring.SqlSessionFactoryBean" > 
	<property name="dataSource" ref="dataSource"/> 
	<property name = "mapperLocations" > 
		<list>
		    <value>classpath:sqls/*Mapper.xml</value>
		</list> 
	</property> 
</bean >
<!-- [3] SqlSessionTemplate 빈 선언 -->
<bean id="sqlSession" 
	class="org.mybatis.spring.SqlSessionTemplate">
    <constructor-arg ref="sqlSessionFactory"/>
</bean>
<!-- [4] MemberDaoImp 빈 등록 -->
<bean id = "dao" class = "com.hk.board.daos.MemberDaoImp"> 
	<property name="sqlSession" ref="sqlSession"/> 
</bean> 

 <!-- email 인증 관련   -->
<!--     <bean id="mailSender" class="org.springframework.mail.javamail.JavaMailSenderImpl"> -->
<!--         <property name="username" value="yogihoxytest1@gmail.com"/> -->
<!--         <property name="password" value="dyrl1234"/> -->
<!--         <property name="javaMailProperties"> -->
<!--             <props> -->
<!--                 <prop key="mail.transport.protocol">smtp</prop> -->
<!--                 <prop key="mail.smtp.auth">true</prop> -->
<!--                 <prop key="mail.smtp.starttls.enable">true</prop> -->
<!--                 <prop key="mail.debug">true</prop> -->
<!--             </props> -->
<!--         </property> -->
<!--     </bean> -->
    <!-- gmail설정 -->
<bean id="mailSender" class="org.springframework.mail.javamail.JavaMailSenderImpl"> 
     <property name="host" value="smtp.gmail.com" />
     <property name="port" value="587" />
 <property name="username" value="yogihoxytest1@gmail.com"/> <!-- 자신의 이메일 아이디 -->
 <property name="password" value="dyrl1234"/> <!-- 자신의 비밀번호 -->
	  <!-- 보안연결 TLS과 관련된 설정 -->
     <property name="javaMailProperties">
    <props>
       <prop key="mail.smtp.auth">true</prop>
       <prop key="mail.smtp.starttls.enable">true</prop>
    </props>
     </property>
</bean>
</beans>